Chapter V â€“ Exercise 00: My First Class in Orthodox Canonical Form

Ä†wiczenie 00: Moja pierwsza klasa w kanonicznej formie ortodoksyjnej

Katalog do oddania: ex00/
Pliki do oddania: Makefile, main.cpp, Fixed.{h, hpp}, Fixed.cpp
Zabronione funkcje: brak
Do tej pory uÅ¼ywaÅ‚aÅ› gÅ‚Ã³wnie liczb caÅ‚kowitych i zmiennoprzecinkowych. Oba typy majÄ… przeciwstawne wÅ‚aÅ›ciwoÅ›ci. Teraz poznasz coÅ› nowego â€“ liczby staÅ‚oprzecinkowe (fixed-point numbers).
SÄ… one kompromisem miÄ™dzy wydajnoÅ›ciÄ…, dokÅ‚adnoÅ›ciÄ…, zakresem i precyzjÄ…. Dlatego sÄ… uÅ¼ywane np. w grafice komputerowej, obrÃ³bce dÅºwiÄ™ku czy naukach Å›cisÅ‚ych.
Twoim zadaniem jest stworzenie klasy w ortodoksyjnej formie kanonicznej (czyli z konstruktorem domyÅ›lnym, kopiujÄ…cym, operatorem przypisania i destruktorem).

Specyfikacja klasy:
Prywatne pola:
int przechowujÄ…cy wartoÅ›Ä‡ liczby staÅ‚oprzecinkowej
static const int przechowujÄ…cy liczbÄ™ bitÃ³w czÄ™Å›ci uÅ‚amkowej (zawsze 8)

Publiczne elementy:
konstruktor domyÅ›lny (ustawia wartoÅ›Ä‡ na 0)
konstruktor kopiujÄ…cy
operator przypisania
destruktor
int getRawBits(void) const; â†’ zwraca surowÄ… wartoÅ›Ä‡
void setRawBits(int const raw); â†’ ustawia surowÄ… wartoÅ›Ä‡
PrzykÅ‚adowy kod i output pokazujÄ…cy wywoÅ‚ania konstruktorÃ³w, operatorÃ³w i metod.

ğŸ¯ Czego siÄ™ nauczÄ™

Ortodox Canonical Form (OCF):
Konstruktor domyÅ›lny, kopiujÄ…cy, operator przypisania i destruktor â†’ fundamenty poprawnego zarzÄ…dzania obiektem w C++.
Liczby staÅ‚oprzecinkowe (Fixed-Point Numbers):
Czym sÄ… i jak rÃ³Å¼niÄ… siÄ™ od int i float.
Jak przechowywaÄ‡ liczby jako int i interpretowaÄ‡ je z przesuniÄ™ciem bitowym.

Konwersje typÃ³w:
Z int â†’ fixed
Z float â†’ fixed
Z fixed â†’ int i float
Operator overloading (przeciÄ…Å¼anie operatorÃ³w):
PorÃ³wnania, operatory arytmetyczne, inkrementacja/dekrementacja.
Operator << do wygodnego wypisywania.
Statyczne funkcje pomocnicze (min/max).

Podstawy
ZaimplementowaÄ‡ klasÄ™ Fixed w OCF: konstruktor, destruktor, copy, operator=
Metody getRawBits i setRawBits

ğŸ“š Lista zagadnieÅ„ do ogarniÄ™cia przed startem projektu Fixed
1. Ortodox Canonical Form (OCF)
Musisz wiedzieÄ‡:
czym sÄ… 4 podstawowe metody:
konstruktor domyÅ›lny,
konstruktor kopiujÄ…cy,
operator przypisania,
destruktor,
po co siÄ™ je implementuje,
jak wyglÄ…dajÄ… logi wywoÅ‚aÅ„ (czyli kiedy woÅ‚any jest copy constructor, a kiedy operator=).

2. Fixed-point numbers (liczby staÅ‚oprzecinkowe)
Musisz wiedzieÄ‡:
czym rÃ³Å¼ni siÄ™ fixed-point od float i int,
jak dziaÅ‚a przechowywanie wartoÅ›ci w postaci caÅ‚kowitej liczby + przesuniÄ™cia bitowego,
co oznacza liczba fractional bits = 8 â†’ najmniejszy krok to 1 / 2^8 = 1/256 = 0.00390625.

3. Konwersje miÄ™dzy typami
Musisz rozumieÄ‡:
jak zamieniÄ‡ int â†’ fixed (przesuniÄ™cie bitowe w lewo),
jak zamieniÄ‡ float â†’ fixed (mnoÅ¼enie przez 2^8 i zaokrÄ…glenie),
jak zamieniÄ‡ fixed â†’ int (dzielenie przez 2^8),
jak zamieniÄ‡ fixed â†’ float (dzielenie przez 2^8, ale wynik w float).

4. Operator overloading (przeciÄ…Å¼anie operatorÃ³w)
Musisz ogarnÄ…Ä‡:
jak wyglÄ…da skÅ‚adnia przeciÄ…Å¼ania operatorÃ³w w C++ (np. Fixed operator+(const Fixed& other) const;),
rÃ³Å¼nica miÄ™dzy operatorem preinkrementacji (++a) a postinkrementacji (a++),
przeciÄ…Å¼enie operatora << dla std::ostream&.

5. Static members i static functions
Musisz wiedzieÄ‡:
rÃ³Å¼nica miÄ™dzy zmiennÄ… statycznÄ… w klasie (static const int fractionalBits = 8;) a polem instancji,
jak dziaÅ‚ajÄ… funkcje statyczne (Fixed::min, Fixed::max) i czemu zwracajÄ… referencjÄ™.

6. Roundf i <cmath>
Musisz znaÄ‡:
funkcjÄ™ roundf(float) â†’ zaokrÄ…gla float do najbliÅ¼szej liczby caÅ‚kowitej,
kiedy jej uÅ¼yÄ‡ przy konwersji float â†’ fixed.

7. Podstawy debugowania i testÃ³w
Musisz pamiÄ™taÄ‡:
dodawanie std::cout w konstruktorach/destruktorach do Å›ledzenia wywoÅ‚aÅ„,
testowanie operatorÃ³w i konwersji na prostych przykÅ‚adach.

âœ… Lista pytaÅ„ kontrolnych (do â€samozgadankiâ€)
Co to jest kanoniczna forma ortodoksyjna klasy w C++ i jakie 4 funkcje wchodzÄ… w jej skÅ‚ad?
Dlaczego liczby staÅ‚oprzecinkowe sÄ… przydatne w grafice komputerowej i obrÃ³bce dÅºwiÄ™ku?
Ile wynosi najmniejsza jednostka rÃ³Å¼nicy (Ïµ) w klasie Fixed z 8 bitami uÅ‚amkowymi?
Jak zapiszesz w Fixed liczbÄ™ 5, gdy fractional bits = 8?
Jak wyglÄ…da konwersja float â†’ Fixed i odwrotnie?
Jak przeciÄ…Å¼yÄ‡ operator << dla klasy w C++?
Czym rÃ³Å¼ni siÄ™ ++a od a++ w kontekÅ›cie przeciÄ…Å¼ania operatorÃ³w?
Do czego sÅ‚uÅ¼y roundf i kiedy jÄ… uÅ¼ywasz w tym projekcie?
Czym rÃ³Å¼ni siÄ™ funkcja statyczna od zwykÅ‚ej metody w klasie?

Kiedy wywoÅ‚ywany jest:
konstruktor kopiujÄ…cy,
operator przypisania,
destruktor?