ğŸ§© ex01 â€“ Form

Cel: dodaÄ‡ klasÄ™ Form, ktÃ³rÄ… moÅ¼e podpisywaÄ‡ Bureaucrat.

Atrybuty:
const std::string name
bool isSigned
const int gradeToSign
const int gradeToExecute

Zasady:
Rzucaj GradeTooHighException / GradeTooLowException, jeÅ›li grade nie mieÅ›ci siÄ™ w 1â€“150.
beSigned(Bureaucrat) â†’ jeÅ›li urzÄ™dnik ma wystarczajÄ…co wysoki grade, form jest podpisany.
JeÅ›li nie â€“ wyjÄ…tek.
Bureaucrat ma nowÄ… funkcjÄ™: signForm() â†’ prÃ³buje podpisaÄ‡ form.


ğŸ” Uczysz siÄ™:
wspÃ³Å‚pracy klas,
przekazywania obiektÃ³w jako argumentÃ³w,
obsÅ‚ugi wyjÄ…tkÃ³w miÄ™dzy klasami.

| Zmienna     | Typ          | Rola w programie                         | WartoÅ›Ä‡ poczÄ…tkowa       |
| ----------- | ------------ | ---------------------------------------- | ------------------------ |
| `name`      | const string | Nazwa formularza                         | ustalana w konstruktorze |
| `isSigned`  | bool         | Czy formularz zostaÅ‚ podpisany           | false                    |
| `signGrade` | const int    | Wymagany stopieÅ„ do podpisania           | ustalany w konstruktorze |
| `execGrade` | const int    | Wymagany stopieÅ„ do wykonania formularza | ustalany w konstruktorze |


void Bureaucrat::signForm(Form &f) const
1. Co robi ta funkcja
signForm jest metodÄ… klasy Bureaucrat.
Jej zadaniem jest prÃ³ba podpisania formularza (Form) przez tego biurokratÄ™.
Funkcja przyjmuje referencjÄ™ do obiektu Form (Form &f), czyli formularza, ktÃ³ry chcemy podpisaÄ‡.

2. Mechanizm dziaÅ‚ania
try â€“ prÃ³bujemy wykonaÄ‡ podpis:
form.beSigned(*this);
beSigned(*this) wywoÅ‚uje funkcjÄ™ beSigned w klasie Form.
*this oznacza obiekt bieÅ¼Ä…cego biurokraty, ktÃ³ry prÃ³buje podpisaÄ‡ formularz.

Co robi Form::beSigned:
Sprawdza, czy grade biurokraty jest wystarczajÄ…co wysoki (bureaucrat.getGrade() <= signGrade).
JeÅ›li tak â†’ ustawia isSigned = true.
JeÅ›li nie â†’ rzuca wyjÄ…tek Form::GradeTooLowException.
catch â€“ obsÅ‚uga wyjÄ…tku:

catch(const Form::GradeTooLowException &e)
{
	std::cerr << "Couldn't sign " << f.getName() << " because " << getName() << "'s grade is too low!" << std::endl;
}

JeÅ›li beSigned rzuci GradeTooLowException (czyli biurokrata ma zbyt niski stopieÅ„), program nie zakoÅ„czy siÄ™ bÅ‚Ä™dem.
Zamiast tego wypisuje komunikat, np.:
Couldn't sign TaxForm because Alice's grade is too low!

3. Jak to Å‚Ä…czy siÄ™ z klasÄ… Form
Bureaucrat nie zmienia bezpoÅ›rednio pÃ³l Form.
Wszystko dzieje siÄ™ w metodzie Form::beSigned, do ktÃ³rej przekazujemy biurokratÄ™.
Bureaucrat::signForm jest interfejsem uÅ¼ytkownika, ktÃ³ry pozwala biurokracie "sprÃ³bowaÄ‡ podpisaÄ‡" formularz i wypisaÄ‡ wynik.

4. Podsumowanie dziaÅ‚ania krok po kroku
WywoÅ‚anie b.signForm(f) (gdzie b to Bureaucrat, f to Form).
Funkcja prÃ³buje wywoÅ‚aÄ‡ f.beSigned(b).

W beSigned:
jeÅ›li b.getGrade() <= f.getSignGrade() â†’ formularz podpisany (isSigned = true)
jeÅ›li nie â†’ rzucany wyjÄ…tek GradeTooLowException
JeÅ›li wyjÄ…tek zostaÅ‚ rzucony â†’ catch przechwytuje go i wypisuje komunikat o nieudanym podpisaniu.
JeÅ›li wyjÄ…tku nie ma â†’ podpisano, moÅ¼na dodatkowo wypisaÄ‡ komunikat sukcesu (opcjonalnie).